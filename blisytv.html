<!DOCTYPE html>
<html>
<head>
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
<title>
Blisy RNG Guides
</title>
<link rel="stylesheet" type="text/css" href="style.css" title="default" />
<link rel="alternate stylesheet" type="text/css" href="nightmode.css" title="alternate"/>
<link rel="alternate stylesheet" type="text/css" href="dnd.css" title="dnd"/>
<script type="text/javascript" src="style.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<script>
function includeHTML() {
  var z, i, elmnt, file, xhttp;
  /*loop through a collection of all HTML elements:*/
  z = document.getElementsByTagName("*");
  for (i = 0; i < z.length; i++) {
    elmnt = z[i];
    /*search for elements with a certain atrribute:*/
    file = elmnt.getAttribute("w3-include-html");
    if (file) {
      /*make an HTTP request using the attribute value as the file name:*/
      xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
        if (this.readyState == 4) {
          if (this.status == 200) {elmnt.innerHTML = this.responseText;}
          if (this.status == 404) {elmnt.innerHTML = "Page not found.";}
          /*remove the attribute, and call this function once more:*/
          elmnt.removeAttribute("w3-include-html");
          includeHTML();
        }
      }      
      xhttp.open("GET", file, true);
      xhttp.send();
      /*exit the function:*/
      return;
    }
  }
};
</script>
<body>
<div w3-include-html="menu.html"></div> 

<script>
includeHTML();
</script>
<div id="header-img">
<div id="header"><h1>Blisys rng guides</h1></div>
<div w3-include-html="sidebar.html"></div> 

<script>
includeHTML();
</script>
<div class="textformat">
<h2>BlisyTV Online Edition</h2>
 Console:  <select name="console" id="console">
    <option value="59.7275">GBA</option>
    <option value="59.6555">NDS</option>
    <option value="60">Old 3DS</option>
    <option value="60">New 3DS</option>
  </select>
  <br><br>
           Game:  <select name="game" id="game">
    <option value="121">Fire Red 1.0</option>
    <option value="120">Fire Red 1.1</option>
    <option value="114">Leaf Green</option>
    <option value="0">Ruby / Sapphire</option>
            <option value="0">Emerald</option>
            <option value="0">SM/USUM</option>

  </select>
  <br><br>
Intro in MS
        <br><input type="number" id="introtimer" value="35000">
        <br>
        <br>        
        Abra Frame<br>
        <input type="number" id="abraframe" value="0">
        <br>
        <br>
        Delay Box<br>
        <input type="number" id="delaybox" value="-20">
        <br>
        <br>
Target frame <input type="number" id="targetframe">
        <br>
        <br>
Out of TV Frames <input type="number" id="outsideoftv">
        <br>
        <br>
<button type="button" onclick="blisytv()">
    Calculate
        </button>
        <p id="demo"></p>
        <p id="demo2"></p>
  <p id="demo3"></p>
        <p id="demo4"></p>

<script>
function blisytv(){
    //this pulls all the settings for ttv calculator
    var targetframe = document.getElementById('targetframe').value;
    var outoftvframe = document.getElementById('outsideoftv').value;
    var console = document.getElementById('console');
    var fps = console.options[console.selectedIndex].value;
    var game = document.getElementById('game');
    var seedlag = game.options[game.selectedIndex].value;
    var introtimer = document.getElementById('introtimer').value;
    var abraframe = document.getElementById('abraframe').value;
    var delaybox =document.getElementById('delaybox').value;
    var seedlagms = 1 / Number(fps) * 1000 * seedlag;
    var introtimerms = Number(introtimer) + Number(seedlagms);
    var abraframems = ((1 / Number(fps) * 1000) * Number(abraframe) )+ Number(introtimerms);

    //this excecutes when you hit the calculate button 
    var introtimerframes = Number(introtimerms) / 1000 * Number(fps);
    var insidetv = (Number(targetframe) - Number(outoftvframe))/313 + 33;
    var tvprint = Number(insidetv);
    var remainder = (Number(targetframe) - Number(outoftvframe)) % 313;
    var outsidetv = (Number(remainder) + Number(outoftvframe) - 33);
    var totalframes = Number(tvprint) + Number(outsidetv) + Number(delaybox);
    var tvprintms = (1 / Number(fps) * 1000) * Number(tvprint);
    var totalframesms = (1 / Number(fps) * 1000) * Number(totalframes);
    var totalms = Number(totalframesms) + Number(introtimerms);
    var abraframems = ((1 / Number(fps) * 1000) * Number(abraframe) )+ Number(introtimerms);
    
    document.getElementById("demo").innerHTML = "Frames in TV: " + tvprint.toFixed(0);
    document.getElementById("demo2").innerHTML = "Total frames: " + totalframes.toFixed(0);
    document.getElementById("demo3").innerHTML = "MS in TV: " + tvprintms.toFixed(0);
    
    if(abraframe == "0" ){
    document.getElementById("demo4").innerHTML = "Total MS: " + totalms.toFixed(0) + "/" + introtimer;
        
        
    }else{
    document.getElementById("demo4").innerHTML = "Total MS: " + totalms.toFixed(0) + "/" + abraframems.toFixed(0) + "/" +introtimer;

        
    }

    
    
    
    
}
    



</body>



</html>